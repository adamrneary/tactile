// Generated by CoffeeScript 1.4.0
var cartesian, components, noncartesian, prepareLinks, showcaseObject;

cartesian = [
  {
    shortLink: "scatter",
    title: "Scatter"
  }, {
    shortLink: "line",
    title: "Line"
  }, {
    shortLink: "column",
    title: "Column"
  }, {
    shortLink: "stacked-column",
    title: "Stacked column",
    groupingButtons: true
  }, {
    shortLink: "area",
    title: "Area"
  }, {
    shortLink: "multiple-series",
    title: "Multiple series types"
  }
];

noncartesian = [
  {
    shortLink: "gauge",
    title: "Gauge"
  }, {
    shortLink: "leaderboard",
    title: "Leaderboard (future)"
  }, {
    shortLink: "sankey",
    title: "Sankey (future)"
  }, {
    shortLink: "donut",
    title: "Donut"
  }, {
    shortLink: "multi-donut",
    title: "Multiple donuts (future)"
  }
];

components = [
  {
    shortLink: "sliding-timeframe",
    title: "Sliding timeframe"
  }, {
    shortLink: "filter",
    title: "Filters (future)"
  }, {
    shortLink: "legend",
    title: "Legend"
  }
];

showcaseObject = {
  routes: {}
};

prepareLinks = function(route, el) {
  var link;
  link = $("<a>").attr("href", "/#" + route.shortLink).text(route.title);
  el.append($("<li>").append(link));
  showcaseObject.routes[route.shortLink] = route.shortLink;
  return showcaseObject[route.shortLink] = function() {
    var script, url, urlCoffee;
    $("#example_header").text(route.title);
    urlCoffee = "coffee/" + route.shortLink + ".coffee";
    url = "js/" + route.shortLink + ".js";
    script = $("<script>").attr("src", url);
    $("#example_view").empty();
    $("#example_js").empty().append(script);
    $("#example_js").load(urlCoffee, function() {
      $(this).removeClass("rainbow");
      return Rainbow.color();
    });
    return Rainbow.color();
  };
};

$(document).ready(function() {
  var Showcase, showcase;
  _.map(cartesian, function(route) {
    return prepareLinks(route, $("#cartLinkList"));
  });
  _.map(noncartesian, function(route) {
    return prepareLinks(route, $("#noncartLinkList"));
  });
  _.map(components, function(route) {
    return prepareLinks(route, $("#compLinkList"));
  });
  Showcase = Backbone.Router.extend(showcaseObject);
  showcase = new Showcase();
  Backbone.history.start();
  if (!window.location.hash) {
    return showcase.navigate("/#line");
  }
});
