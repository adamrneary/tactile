// Generated by CoffeeScript 1.4.0
var jasmine;

describe('Area series', function() {
  var Chart;
  Chart = new Tactile.Chart();
  it("Chart: check data function", function() {
    var data;
    data = [
      {
        x: 0,
        y: 10,
        z: 0
      }, {
        x: 1,
        y: 170,
        z: 200
      }, {
        x: 2,
        y: 280,
        z: 120
      }, {
        x: 3,
        y: 205,
        z: 240
      }, {
        x: 4,
        y: 280,
        z: 120
      }, {
        x: 5,
        y: 205,
        z: 240
      }, {
        x: 6,
        y: 280,
        z: 120
      }, {
        x: 7,
        y: 205,
        z: 240
      }, {
        x: 8,
        y: 120,
        z: 490
      }
    ];
    Chart.data(data);
    return assert(Chart._data === data);
  });
  it("Chart: check axes function", function() {
    var frameVal;
    frameVal = [0, 4];
    Chart.axes({
      x: {
        dimension: "time",
        frame: frameVal
      }
    });
    return assert(Chart._axes.x.frame === frameVal);
  });
  it("Chart: check element function", function() {
    Chart.element($("#example_view")[0]);
    return assert(Chart._element === $("#example_view")[0]);
  });
  it('addSeries', function() {
    Chart.addSeries([
      {
        name: "enemies",
        renderer: "area",
        sigfigs: 0,
        draggable: true,
        afterDrag: function(d, y, i, draggedSeries, graph) {
          return graph.data()[i].y = y;
        },
        color: "#c05020",
        dataTransform: function(d) {
          return {
            x: d.x,
            y: d.y
          };
        }
      }, {
        name: "friends",
        renderer: "area",
        sigfigs: 1,
        color: "#6060c0",
        draggable: true,
        afterDrag: function(d, y, i, draggedSeries, graph) {
          return graph.data()[i].z = y;
        },
        dataTransform: function(d) {
          return {
            x: d.x,
            y: d.z
          };
        }
      }
    ]);
    assert(Chart.series[Chart.series.length - 2].name === 'enemies');
    assert(Chart.series[Chart.series.length - 1].name === 'friends');
    assert(Chart.series[Chart.series.length - 2].renderer === 'area');
    assert(Chart.series[Chart.series.length - 1].renderer === 'area');
    assert(Chart.series[Chart.series.length - 2].color === '#c05020');
    assert(Chart.series[Chart.series.length - 1].color === '#6060c0');
    assert(typeof Chart.series[Chart.series.length - 2].dataTransform === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].dataTransform === 'function');
    assert(typeof Chart.series[Chart.series.length - 2].afterDrag === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].afterDrag === 'function');
    assert(Chart.series[Chart.series.length - 2].draggable === true);
    return assert(Chart.series[Chart.series.length - 1].draggable === true);
  });
  it('slider', function() {
    var data, frameVal;
    frameVal = [0, 4];
    return data = [
      {
        x: 0,
        y: 10,
        z: 0
      }, {
        x: 1,
        y: 170,
        z: 200
      }, {
        x: 2,
        y: 280,
        z: 120
      }, {
        x: 3,
        y: 205,
        z: 240
      }, {
        x: 4,
        y: 280,
        z: 120
      }, {
        x: 5,
        y: 205,
        z: 240
      }, {
        x: 6,
        y: 280,
        z: 120
      }, {
        x: 7,
        y: 205,
        z: 240
      }, {
        x: 8,
        y: 120,
        z: 490
      }
    ];
  });
  it("Chart: check for all series don't disabled", function() {
    var res;
    res = Chart._allSeriesDisabled();
    return assert(res === false);
  });
  it("Chart: check for disable all series", function() {
    var res;
    _.each(Chart.series, function(s) {
      return s.disable();
    });
    res = Chart._allSeriesDisabled();
    return assert(res === true);
  });
  it("Chart: check setSize function", function() {
    Chart.setSize({
      width: 700,
      height: 450
    });
    Chart.update();
    assert(Chart.width() === 700 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
    return assert(Chart.height() === 450 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check height function", function() {
    Chart = Chart.height(400);
    Chart.update();
    return assert(Chart.height() === 400 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check width function", function() {
    Chart = Chart.width(680);
    Chart.update();
    return assert(Chart.width() === 680 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
  });
  it('Tactile.Chart().render is function', function() {
    return assert(typeof Chart.render === 'function');
  });
  it('Tactile.Chart().initSeriesStackData is function', function() {
    return assert(typeof Chart.initSeriesStackData === 'function');
  });
  return it('Tactile.Chart().element is function', function() {
    return assert(typeof Chart.element === 'function');
  });
});

describe('Scatter series', function() {
  var Chart;
  Chart = new Tactile.Chart();
  it('addSeries', function() {
    Chart.addSeries([
      {
        name: "actual-planned-dots",
        renderer: "scatter",
        color: "#F52A2D",
        cssConditions: function(d) {
          if (d.r < d.y) {
            return "low";
          }
          if (d.r === d.y) {
            return "mid";
          }
          if (d.r > d.y) {
            return "high";
          }
          return "";
        },
        tooltip: function(d) {
          return d.y + " planned, got " + d.r;
        },
        dataTransform: function(d) {
          return {
            x: d.period,
            y: d.plan,
            r: d.actual
          };
        }
      }
    ]);
    assert(Chart.series[Chart.series.length - 1].name === 'actual-planned-dots');
    assert(Chart.series[Chart.series.length - 1].renderer === 'scatter');
    assert(Chart.series[Chart.series.length - 1].color === '#F52A2D');
    assert(typeof Chart.series[Chart.series.length - 1].tooltip === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].dataTransform === 'function');
    return assert(typeof Chart.series[Chart.series.length - 1].cssConditions === 'function');
  });
  it("Chart: check data function", function() {
    var data;
    data = [
      {
        period: 1325376000,
        actual: 14,
        plan: 5
      }, {
        period: 1328054400,
        actual: 16,
        plan: 10
      }, {
        period: 1330560000,
        actual: 12,
        plan: 19
      }, {
        period: 1333238400,
        actual: 13,
        plan: 33
      }, {
        period: 1335830400,
        actual: 16,
        plan: 15
      }, {
        period: 1338508800,
        actual: 25,
        plan: 25
      }, {
        period: 1341100800,
        actual: 16,
        plan: 15
      }, {
        period: 1343779200,
        actual: 16,
        plan: 33
      }, {
        period: 1346457600,
        actual: 12,
        plan: 15
      }, {
        period: 1349049600,
        actual: 14,
        plan: 10
      }, {
        period: 1351728000,
        actual: 16,
        plan: 9
      }, {
        period: 1354320000,
        actual: 15,
        plan: 14
      }
    ];
    Chart.data(data);
    return assert(Chart._data === data);
  });
  it("Chart: check element function", function() {
    Chart.element($("#example_view")[0]);
    return assert(Chart._element === ($("#example_view")[0]));
  });
  it("Chart: check for all series don't disabled", function() {
    var res;
    res = Chart._allSeriesDisabled();
    return assert(res === false);
  });
  it("Chart: check for disable all series", function() {
    var res;
    _.each(Chart.series, function(s) {
      return s.disable();
    });
    res = Chart._allSeriesDisabled();
    return assert(res === true);
  });
  it("Chart: check height function", function() {
    Chart = Chart.height(450);
    Chart.update();
    return assert(Chart.height() === 450 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check setSize function", function() {
    Chart.setSize({
      width: 720,
      height: 420
    });
    Chart.update();
    assert(Chart.width() === 720 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
    return assert(Chart.height() === 420 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check width function", function() {
    Chart = Chart.width(700);
    Chart.update();
    return assert(Chart.width() === 700 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
  });
  it('Tactile.Chart().render is function', function() {
    return assert(typeof Chart.render === 'function');
  });
  it('Tactile.Chart().initSeriesStackData is function', function() {
    return assert(typeof Chart.initSeriesStackData === 'function');
  });
  return it('Tactile.Chart().element is function', function() {
    return assert(typeof Chart.element === 'function');
  });
});

describe('Multiple series timeframe', function() {
  var Chart;
  Chart = new Tactile.Chart();
  it("Chart: check data function", function() {
    var data;
    data = [
      {
        period: 1325376000,
        actual: 4,
        plan: 0
      }, {
        period: 1328054400,
        actual: 5,
        plan: 1
      }, {
        period: 1330560000,
        actual: 6,
        plan: 2
      }, {
        period: 1333238400,
        actual: 7,
        plan: 3
      }, {
        period: 1335830400,
        actual: 6,
        plan: 5
      }, {
        period: 1338508800,
        actual: 5,
        plan: 8
      }, {
        period: 1341100800,
        actual: 4,
        plan: 5
      }, {
        period: 1343779200,
        actual: 5,
        plan: 3
      }, {
        period: 1346457600,
        actual: 6,
        plan: 2
      }, {
        period: 1349049600,
        actual: 7,
        plan: 1
      }, {
        period: 1351728000,
        actual: 6,
        plan: 1
      }, {
        period: 1354320000,
        actual: 5,
        plan: 2
      }
    ];
    Chart.data(data);
    return assert(Chart._data === data);
  });
  it("Chart: check axes function", function() {
    var frameVal;
    frameVal = [1325376000, 1354320000];
    Chart.axes({
      x: {
        dimension: "time",
        frame: frameVal
      }
    });
    return assert(Chart._axes.x.frame === frameVal);
  });
  it("Chart: check element function", function() {
    Chart.element($("#example_view")[0]);
    return assert(Chart._element === ($("#example_view")[0]));
  });
  it('addSeries', function() {
    Chart.addSeries([
      {
        name: "reach actual",
        renderer: "column",
        wide: true,
        draggable: true,
        round: true,
        color: "#6020c0",
        tooltip: function(d) {
          return d.y + " customers";
        },
        dataTransform: function(d) {
          return {
            x: d.period,
            y: d.actual
          };
        },
        afterDrag: function(d, y, i, draggedSeries, graph) {
          return graph.data()[i].actual = y;
        }
      }, {
        name: "reach plan",
        renderer: "line",
        sigfigs: 0,
        color: "#c05020",
        draggable: true,
        tooltip: function(d) {
          return d.y + " customers planned";
        },
        dataTransform: function(d) {
          return {
            x: d.period,
            y: d.plan
          };
        },
        onDrag: function(d, series, graph) {},
        afterDrag: function(d, y, i, draggedSeries, graph) {
          return graph.data()[i].plan = y;
        }
      }
    ]);
    assert(Chart.series[Chart.series.length - 2].name === 'reach actual');
    assert(Chart.series[Chart.series.length - 1].name === 'reach plan');
    assert(Chart.series[Chart.series.length - 2].renderer === 'column');
    assert(Chart.series[Chart.series.length - 1].renderer === 'line');
    assert(Chart.series[Chart.series.length - 2].color === '#6020c0');
    assert(Chart.series[Chart.series.length - 1].color === '#c05020');
    assert(typeof Chart.series[Chart.series.length - 2].dataTransform === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].dataTransform === 'function');
    assert(typeof Chart.series[Chart.series.length - 2].tooltip === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].tooltip === 'function');
    assert(typeof Chart.series[Chart.series.length - 2].afterDrag === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].afterDrag === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].onDrag === 'function');
    assert(Chart.series[Chart.series.length - 2].wide === true);
    assert(Chart.series[Chart.series.length - 2].round === true);
    assert(Chart.series[Chart.series.length - 2].draggable === true);
    return assert(Chart.series[Chart.series.length - 1].draggable === true);
  });
  it("Chart: check for all series don't disabled", function() {
    var res;
    res = Chart._allSeriesDisabled();
    return assert(res === false);
  });
  it("Chart: check for disable all series", function() {
    var res;
    _.each(Chart.series, function(s) {
      return s.disable();
    });
    res = Chart._allSeriesDisabled();
    return assert(res === true);
  });
  it("Chart: check height function", function() {
    Chart = Chart.height(450);
    Chart.update();
    return assert(Chart.height() === 450 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check setSize function", function() {
    Chart.setSize({
      width: 680,
      height: 400
    });
    Chart.update();
    assert(Chart.width() === 680 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
    return assert(Chart.height() === 400 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check width function", function() {
    Chart = Chart.width(680);
    Chart.update();
    return assert(Chart.width() === 680 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
  });
  it('Tactile.Chart().render is function', function() {
    return assert(typeof Chart.render === 'function');
  });
  it('Tactile.Chart().initSeriesStackData is function', function() {
    return assert(typeof Chart.initSeriesStackData === 'function');
  });
  return it('Tactile.Chart().element is function', function() {
    return assert(typeof Chart.element === 'function');
  });
});

describe('Legend series', function() {
  var Chart;
  Chart = new Tactile.Chart();
  it("Chart: check data function", function() {
    var data;
    data = [
      {
        x: 0,
        y: 10,
        z: 0
      }, {
        x: 1,
        y: 170,
        z: 200
      }, {
        x: 2,
        y: 280,
        z: 100
      }, {
        x: 3,
        y: 205,
        z: 240
      }, {
        x: 4,
        y: 280,
        z: 100
      }, {
        x: 5,
        y: 205,
        z: 240
      }, {
        x: 6,
        y: 280,
        z: 100
      }, {
        x: 7,
        y: 205,
        z: 240
      }, {
        x: 8,
        y: 332,
        z: 490
      }
    ];
    Chart.data(data);
    return assert(Chart._data === data);
  });
  it("Chart: check axes function", function() {
    var frameVal;
    frameVal = [0, 4];
    Chart.axes({
      x: {
        dimension: "time",
        frame: frameVal
      }
    });
    return assert(Chart._axes.x.frame === frameVal);
  });
  it("Chart: check element function", function() {
    Chart.element($("#example_view")[0]);
    return assert(Chart._element === ($("#example_view")[0]));
  });
  it('addSeries', function() {
    Chart.addSeries({
      name: "enemies",
      renderer: "line",
      color: "#c05020",
      tooltip: function(d) {
        return d.y + " enemies";
      },
      dataTransform: function(d) {
        return {
          x: d.x,
          y: d.y
        };
      }
    });
    Chart.addSeries({
      name: "friends",
      renderer: "column",
      sigfigs: 1,
      color: "#6060c0",
      draggable: true,
      afterDrag: function(d, y, i, draggedSeries, graph) {
        return graph.data()[i].z = y;
      },
      tooltip: function(d) {
        return d.y + " friends";
      },
      dataTransform: function(d) {
        return {
          x: d.x,
          y: d.z
        };
      }
    });
    assert(Chart.series[Chart.series.length - 2].name === 'enemies');
    assert(Chart.series[Chart.series.length - 1].name === 'friends');
    assert(Chart.series[Chart.series.length - 2].renderer === 'line');
    assert(Chart.series[Chart.series.length - 1].renderer === 'column');
    assert(Chart.series[Chart.series.length - 1].sigfigs === 1);
    assert(Chart.series[Chart.series.length - 2].color === '#c05020');
    assert(Chart.series[Chart.series.length - 1].color === '#6060c0');
    assert(typeof Chart.series[Chart.series.length - 2].dataTransform === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].dataTransform === 'function');
    assert(typeof Chart.series[Chart.series.length - 2].tooltip === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].tooltip === 'function');
    assert(Chart.series[Chart.series.length - 1].draggable === true);
    return assert(typeof Chart.series[Chart.series.length - 1].afterDrag === 'function');
  });
  it("Chart: check for all series don't disabled", function() {
    var res;
    res = Chart._allSeriesDisabled();
    return assert(res === false);
  });
  it("Chart: check for disable all series", function() {
    var res;
    _.each(Chart.series, function(s) {
      return s.disable();
    });
    res = Chart._allSeriesDisabled();
    return assert(res === true);
  });
  it("Chart: check setSize function", function() {
    Chart.setSize({
      width: 720,
      height: 420
    });
    Chart.update();
    assert(Chart.width() === 720 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
    return assert(Chart.height() === 420 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check height function", function() {
    Chart = Chart.height(450);
    Chart.update();
    return assert(Chart.height() === 450 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check width function", function() {
    Chart = Chart.width(700);
    Chart.update();
    return assert(Chart.width() === 700 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
  });
  it('Tactile.Chart().render is function', function() {
    return assert(typeof Chart.render === 'function');
  });
  it('Tactile.Chart().initSeriesStackData is function', function() {
    return assert(typeof Chart.initSeriesStackData === 'function');
  });
  return it('Tactile.Chart().element is function', function() {
    return assert(typeof Chart.element === 'function');
  });
});

describe('Multiple donuts timeframe', function() {
  var Chart;
  Chart = new Tactile.Chart();
  it("Chart: check data function", function() {
    var data;
    data = [
      {
        period: 1325376000,
        actual: 4,
        plan: 0
      }, {
        period: 1328054400,
        actual: 5,
        plan: 1
      }, {
        period: 1330560000,
        actual: 6,
        plan: 2
      }, {
        period: 1333238400,
        actual: 7,
        plan: 3
      }, {
        period: 1335830400,
        actual: 6,
        plan: 5
      }, {
        period: 1338508800,
        actual: 5,
        plan: 8
      }, {
        period: 1341100800,
        actual: 4,
        plan: 5
      }, {
        period: 1343779200,
        actual: 5,
        plan: 3
      }, {
        period: 1346457600,
        actual: 6,
        plan: 2
      }, {
        period: 1349049600,
        actual: 7,
        plan: 1
      }, {
        period: 1351728000,
        actual: 6,
        plan: 1
      }, {
        period: 1354320000,
        actual: 5,
        plan: 2
      }
    ];
    Chart.data(data);
    return assert(Chart._data === data);
  });
  it("Chart: check axes function", function() {
    var frameVal;
    frameVal = [1325376000, 1354320000];
    Chart.axes({
      x: {
        dimension: "time",
        frame: frameVal
      }
    });
    return assert(Chart._axes.x.frame === frameVal);
  });
  it("Chart: check element function", function() {
    Chart.element($("#example_view")[0]);
    return assert(Chart._element === ($("#example_view")[0]));
  });
  it('addSeries', function() {
    Chart.addSeries([
      {
        name: "reach actual",
        renderer: "column",
        wide: true,
        draggable: true,
        round: true,
        color: "#6020c0",
        tooltip: function(d) {
          return d.y + " customers";
        },
        dataTransform: function(d) {
          return {
            x: d.period,
            y: d.actual
          };
        },
        afterDrag: function(d, y, i, draggedSeries, graph) {
          return graph.data()[i].actual = y;
        }
      }, {
        name: "reach plan",
        renderer: "line",
        sigfigs: 0,
        color: "#c05020",
        draggable: true,
        tooltip: function(d) {
          return d.y + " customers planned";
        },
        dataTransform: function(d) {
          return {
            x: d.period,
            y: d.plan
          };
        },
        onDrag: function(d, series, graph) {},
        afterDrag: function(d, y, i, draggedSeries, graph) {
          return graph.data()[i].plan = y;
        }
      }
    ]);
    assert(Chart.series[Chart.series.length - 2].name === 'reach actual');
    assert(Chart.series[Chart.series.length - 1].name === 'reach plan');
    assert(Chart.series[Chart.series.length - 2].renderer === 'column');
    assert(Chart.series[Chart.series.length - 1].renderer === 'line');
    assert(Chart.series[Chart.series.length - 2].color === '#6020c0');
    assert(Chart.series[Chart.series.length - 1].color === '#c05020');
    assert(typeof Chart.series[Chart.series.length - 2].dataTransform === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].dataTransform === 'function');
    assert(typeof Chart.series[Chart.series.length - 2].tooltip === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].tooltip === 'function');
    assert(typeof Chart.series[Chart.series.length - 2].afterDrag === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].afterDrag === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].onDrag === 'function');
    assert(Chart.series[Chart.series.length - 2].wide === true);
    assert(Chart.series[Chart.series.length - 2].round === true);
    assert(Chart.series[Chart.series.length - 2].draggable === true);
    return assert(Chart.series[Chart.series.length - 1].draggable === true);
  });
  it("Chart: check for all series don't disabled", function() {
    var res;
    res = Chart._allSeriesDisabled();
    return assert(res === false);
  });
  it("Chart: check for disable all series", function() {
    var res;
    _.each(Chart.series, function(s) {
      return s.disable();
    });
    res = Chart._allSeriesDisabled();
    return assert(res === true);
  });
  it("Chart: check height function", function() {
    Chart = Chart.height(450);
    Chart.update();
    return assert(Chart.height() === 450 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check setSize function", function() {
    Chart.setSize({
      width: 680,
      height: 400
    });
    Chart.update();
    assert(Chart.width() === 680 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
    return assert(Chart.height() === 400 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check width function", function() {
    Chart = Chart.width(680);
    Chart.update();
    return assert(Chart.width() === 680 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
  });
  it('Tactile.Chart().render is function', function() {
    return assert(typeof Chart.render === 'function');
  });
  it('Tactile.Chart().initSeriesStackData is function', function() {
    return assert(typeof Chart.initSeriesStackData === 'function');
  });
  return it('Tactile.Chart().element is function', function() {
    return assert(typeof Chart.element === 'function');
  });
});

jasmine = jasmine;

describe("Chart: ", function() {
  it('Chart object has all fields', function() {
    var Chart;
    Chart = new Tactile.Chart();
    assert(typeof Chart === 'object');
    assert(typeof Chart.innerHeight === 'number');
    assert(typeof Chart.innerWidth === 'number');
    assert(typeof Chart.marginedHeight === 'number');
    assert(typeof Chart.marginedWidth === 'number');
    assert(typeof Chart.outerHeight === 'number');
    assert(typeof Chart.outerWidth === 'number');
    assert(typeof Chart._slice === 'function');
    assert(typeof Chart._axes === 'object');
    assert(typeof Chart._axes.x === 'object');
    assert(typeof Chart._axes.x.dimension === 'string');
    assert(typeof Chart._axes.x.frame === 'object');
    assert(Chart._axes.x.frame.length === 2);
    assert(typeof Chart._axes.y === 'object');
    assert(typeof Chart._axes.y.dimension === 'string');
    assert(typeof Chart._axes.y.frame === 'object');
    assert(Chart._axes.y.frame.length === 2);
    assert(typeof Chart.discoverRange === 'function');
    assert(typeof Chart.renderers === 'object');
    assert(typeof Chart.series === 'object');
    assert(typeof Chart.updateCallbacks === 'object');
    assert(typeof Chart.updateCallbacks[0] === 'function');
    assert(typeof Chart.updateCallbacks[1] === 'function');
    return assert(typeof Chart.addSeries === 'function');
  });
  it("Tooltip: spotlightOn function should be turn on spotlight", function() {
    Tactile.Tooltip.spotlightOn();
    return assert(Tactile.Tooltip.getSpotlight() === true);
  });
  return it("Tooltip: turnOffspotlight function should be turn off spotlight", function() {
    Tactile.Tooltip.turnOffspotlight();
    return assert(Tactile.Tooltip.getSpotlight() === false);
  });
});

describe('Column series', function() {
  var Chart;
  Chart = new Tactile.Chart();
  it("Chart: check data function", function() {
    var data;
    data = [
      {
        period: 1325376000,
        actual: 4,
        plan: 1
      }, {
        period: 1328054500,
        actual: 5,
        plan: 1
      }, {
        period: 1330560000,
        actual: 6,
        plan: 2
      }, {
        period: 1333238400,
        actual: 7,
        plan: 3
      }, {
        period: 1335830400,
        actual: 6,
        plan: 5
      }, {
        period: 1338508800,
        actual: 5,
        plan: 8
      }, {
        period: 1341100800,
        actual: 4,
        plan: 5
      }, {
        period: 1343779200,
        actual: 5,
        plan: 3
      }, {
        period: 1346457600,
        actual: 6,
        plan: 2
      }, {
        period: 1349049600,
        actual: 7,
        plan: 1
      }, {
        period: 1351728000,
        actual: 6,
        plan: 1
      }, {
        period: 1354320000,
        actual: 5,
        plan: 2
      }
    ];
    Chart.data(data);
    return assert(Chart._data === data);
  });
  it("Chart: check element function", function() {
    Chart.element($("#example_view")[0]);
    return assert(Chart._element === $("#example_view")[0]);
  });
  it('addSeries', function() {
    Chart.addSeries([
      {
        name: "reach actual",
        renderer: "column",
        sigfigs: 0,
        round: false,
        color: "#c05020",
        draggable: true,
        tooltip: function(d) {
          return d.y + " customers";
        },
        dataTransform: function(d) {
          return {
            x: d.period,
            y: d.actual
          };
        },
        afterDrag: function(d, y, i, draggedSeries, graph) {
          return graph._data[i].actual = y;
        }
      }, {
        name: "planned",
        renderer: "column",
        round: false,
        color: "#6060c0",
        draggable: true,
        tooltip: function(d) {
          return d.y + " planned";
        },
        dataTransform: function(d) {
          return {
            x: d.period,
            y: d.plan
          };
        },
        afterDrag: function(d, y, i, draggedSeries, graph) {
          return graph._data[i].plan = y;
        }
      }
    ]);
    assert(Chart.series[Chart.series.length - 2].name === 'reach actual');
    assert(Chart.series[Chart.series.length - 1].name === 'planned');
    assert(Chart.series[Chart.series.length - 2].renderer === 'column');
    assert(Chart.series[Chart.series.length - 1].renderer === 'column');
    assert(Chart.series[Chart.series.length - 2].sigfigs === 0);
    assert(Chart.series[Chart.series.length - 2].color === '#c05020');
    assert(Chart.series[Chart.series.length - 1].color === '#6060c0');
    assert(typeof Chart.series[Chart.series.length - 2].dataTransform === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].dataTransform === 'function');
    assert(typeof Chart.series[Chart.series.length - 2].tooltip === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].tooltip === 'function');
    assert(Chart.series[Chart.series.length - 2].round === false);
    assert(Chart.series[Chart.series.length - 1].round === false);
    assert(Chart.series[Chart.series.length - 2].draggable === true);
    return assert(Chart.series[Chart.series.length - 1].draggable === true);
  });
  it("Chart: check for all series don't disabled", function() {
    var res;
    res = Chart._allSeriesDisabled();
    return assert(res === false);
  });
  it("Chart: check for disable all series", function() {
    var res;
    _.each(Chart.series, function(s) {
      return s.disable();
    });
    res = Chart._allSeriesDisabled();
    return assert(res === true);
  });
  it("Chart: check height function", function() {
    Chart = Chart.height(500);
    Chart.update();
    return assert(Chart.height() === 500 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check setSize function", function() {
    Chart.setSize({
      width: 700,
      height: 500
    });
    Chart.update();
    assert(Chart.width() === 700 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
    return assert(Chart.height() === 500 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check width function", function() {
    Chart = Chart.width(700);
    Chart.update();
    return assert(Chart.width() === 700 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
  });
  it('Tactile.Chart().render is function', function() {
    return assert(typeof Chart.render === 'function');
  });
  it('Tactile.Chart().initSeriesStackData is function', function() {
    return assert(typeof Chart.initSeriesStackData === 'function');
  });
  return it('Tactile.Chart().element is function', function() {
    return assert(typeof Chart.element === 'function');
  });
});

describe('Stacked columb timeframe', function() {
  var Chart;
  Chart = new Tactile.Chart();
  it("Chart: check data function", function() {
    var data;
    data = [
      {
        period: 1325376000,
        actual: 4,
        plan: 1
      }, {
        period: 1328054400,
        actual: 5,
        plan: 1
      }, {
        period: 1330560000,
        actual: 6,
        plan: 2
      }, {
        period: 1333238400,
        actual: 7,
        plan: 3
      }, {
        period: 1335830400,
        actual: 6,
        plan: 5
      }, {
        period: 1338508800,
        actual: 5,
        plan: 8
      }, {
        period: 1341100800,
        actual: 4,
        plan: 5
      }, {
        period: 1343779200,
        actual: 5,
        plan: 3
      }, {
        period: 1346457600,
        actual: 6,
        plan: 2
      }, {
        period: 1349049600,
        actual: 7,
        plan: 1
      }, {
        period: 1351728000,
        actual: 6,
        plan: 1
      }, {
        period: 1354320000,
        actual: 5,
        plan: 2
      }
    ];
    Chart.data(data);
    return assert(Chart._data === data);
  });
  it("Chart: check axes function", function() {
    var frameVal;
    frameVal = [1330560000, 1354320000];
    Chart.axes({
      y: "linear",
      x: {
        dimension: "time",
        frame: frameVal,
        options: {
          ticksTreatment: "align-middle"
        }
      }
    });
    assert(Chart._axes.x.frame === frameVal);
    return assert(Chart._axes.y.dimension === "linear");
  });
  it("Chart: check element function", function() {
    Chart.element($("#example_view")[0]);
    return assert(Chart._element === ($("#example_view")[0]));
  });
  it('addSeries', function() {
    Chart.addSeries({
      name: "reach actual",
      renderer: "column",
      round: false,
      color: "#c05020",
      tooltip: function(d) {
        return d.y + " customers";
      },
      dataTransform: function(d) {
        return {
          x: d.period,
          y: d.actual
        };
      }
    });
    Chart.addSeries([
      {
        name: "planned",
        renderer: "column",
        round: false,
        color: "#6060c0",
        tooltip: function(d) {
          return d.y + " planned";
        },
        dataTransform: function(d) {
          return {
            x: d.period,
            y: d.plan
          };
        }
      }, {
        name: "sum",
        renderer: "column",
        round: false,
        color: "#6020c0",
        tooltip: function(d) {
          return d.y + " sum";
        },
        dataTransform: function(d) {
          return {
            x: d.period,
            y: parseInt(d.plan + d.actual)
          };
        }
      }
    ]);
    assert(Chart.series[Chart.series.length - 3].name === 'reach actual');
    assert(Chart.series[Chart.series.length - 2].name === 'planned');
    assert(Chart.series[Chart.series.length - 1].name === 'sum');
    assert(Chart.series[Chart.series.length - 3].renderer === 'column');
    assert(Chart.series[Chart.series.length - 2].renderer === 'column');
    assert(Chart.series[Chart.series.length - 1].renderer === 'column');
    assert(Chart.series[Chart.series.length - 3].round === false);
    assert(Chart.series[Chart.series.length - 2].round === false);
    assert(Chart.series[Chart.series.length - 1].round === false);
    assert(Chart.series[Chart.series.length - 3].color === "#c05020");
    assert(Chart.series[Chart.series.length - 2].color === "#6060c0");
    assert(Chart.series[Chart.series.length - 1].color === "#6020c0");
    assert(typeof Chart.series[Chart.series.length - 3].dataTransform === 'function');
    assert(typeof Chart.series[Chart.series.length - 2].dataTransform === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].dataTransform === 'function');
    assert(typeof Chart.series[Chart.series.length - 3].tooltip === 'function');
    assert(typeof Chart.series[Chart.series.length - 2].tooltip === 'function');
    return assert(typeof Chart.series[Chart.series.length - 1].tooltip === 'function');
  });
  it("Chart: check for all series don't disabled", function() {
    var res;
    res = Chart._allSeriesDisabled();
    return assert(res === false);
  });
  it("Chart: check for disable all series", function() {
    var res;
    _.each(Chart.series, function(s) {
      return s.disable();
    });
    res = Chart._allSeriesDisabled();
    return assert(res === true);
  });
  it("Chart: check height function", function() {
    Chart = Chart.height(450);
    Chart.update();
    return assert(Chart.height() === 450 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check setSize function", function() {
    Chart.setSize({
      width: 680,
      height: 400
    });
    Chart.update();
    assert(Chart.width() === 680 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
    return assert(Chart.height() === 400 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check width function", function() {
    Chart = Chart.width(680);
    Chart.update();
    return assert(Chart.width() === 680 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
  });
  it('Tactile.Chart().render is function', function() {
    return assert(typeof Chart.render === 'function');
  });
  it('Tactile.Chart().initSeriesStackData is function', function() {
    return assert(typeof Chart.initSeriesStackData === 'function');
  });
  return it('Tactile.Chart().element is function', function() {
    return assert(typeof Chart.element === 'function');
  });
});

describe('Sliding timeframe series', function() {
  var Chart;
  Chart = new Tactile.Chart();
  it("Chart: check data function", function() {
    var data;
    data = [
      {
        x: 0,
        y: 10,
        z: 0
      }, {
        x: 1,
        y: 170,
        z: 200
      }, {
        x: 2,
        y: 280,
        z: 100
      }, {
        x: 3,
        y: 205,
        z: 300
      }, {
        x: 4,
        y: 332,
        z: 400
      }, {
        x: 5,
        y: 327,
        z: 450
      }, {
        x: 6,
        y: 332,
        z: 600
      }, {
        x: 7,
        y: 232,
        z: 601
      }, {
        x: 8,
        y: 402,
        z: 700
      }, {
        x: 9,
        y: 100,
        z: 430
      }, {
        x: 10,
        y: 134,
        z: 490
      }, {
        x: 11,
        y: 356,
        z: 450
      }, {
        x: 12,
        y: 339,
        z: 720
      }, {
        x: 13,
        y: 539,
        z: 650
      }, {
        x: 14,
        y: 650,
        z: 300
      }, {
        x: 15,
        y: 700,
        z: 100
      }
    ];
    Chart.data(data);
    return assert(Chart._data === data);
  });
  it("Chart: check axes function", function() {
    var frameVal;
    frameVal = [2, 10];
    Chart.axes({
      x: {
        dimension: "time",
        frame: frameVal
      }
    });
    return assert(Chart._axes.x.frame === frameVal);
  });
  it("Chart: check element function", function() {
    Chart.element($("#example_view")[0]);
    return assert(Chart._element === ($("#example_view")[0]));
  });
  it('addSeries', function() {
    Chart.addSeries([
      {
        name: "xy",
        renderer: "line",
        color: "#c05020",
        dataTransform: function(d) {
          return {
            x: d.x,
            y: d.y
          };
        }
      }, {
        name: "xz",
        renderer: "line",
        color: "#6060c0",
        dataTransform: function(d) {
          return {
            x: d.x,
            y: d.z
          };
        }
      }
    ]);
    assert(Chart.series[Chart.series.length - 2].name === 'xy');
    assert(Chart.series[Chart.series.length - 1].name === 'xz');
    assert(Chart.series[Chart.series.length - 2].renderer === 'line');
    assert(Chart.series[Chart.series.length - 1].renderer === 'line');
    assert(Chart.series[Chart.series.length - 2].color === '#c05020');
    assert(Chart.series[Chart.series.length - 1].color === '#6060c0');
    assert(typeof Chart.series[Chart.series.length - 2].dataTransform === 'function');
    return assert(typeof Chart.series[Chart.series.length - 1].dataTransform === 'function');
  });
  it("Chart: check for all series don't disabled", function() {
    var res;
    res = Chart._allSeriesDisabled();
    return assert(res === false);
  });
  it("Chart: check for disable all series", function() {
    var res;
    _.each(Chart.series, function(s) {
      return s.disable();
    });
    res = Chart._allSeriesDisabled();
    return assert(res === true);
  });
  it("Chart: check height function", function() {
    Chart = Chart.height(450);
    Chart.update();
    return assert(Chart.height() === 450 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check setSize function", function() {
    Chart.setSize({
      width: 680,
      height: 400
    });
    Chart.update();
    assert(Chart.width() === 680 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
    return assert(Chart.height() === 400 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check width function", function() {
    Chart = Chart.width(680);
    Chart.update();
    return assert(Chart.width() === 680 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
  });
  it('Tactile.Chart().render is function', function() {
    return assert(typeof Chart.render === 'function');
  });
  it('Tactile.Chart().initSeriesStackData is function', function() {
    return assert(typeof Chart.initSeriesStackData === 'function');
  });
  return it('Tactile.Chart().element is function', function() {
    return assert(typeof Chart.element === 'function');
  });
});

describe('Gauge series', function() {
  var Chart;
  Chart = new Tactile.Chart();
  it("Chart: check data function", function() {
    var data;
    data = [
      {
        value: 1,
        min: -10,
        max: 10
      }
    ];
    Chart.data(data);
    return assert(Chart._data === data);
  });
  it("Chart: check element function", function() {
    Chart.element($("#example_view")[0]);
    return assert(Chart._element === ($("#example_view")[0]));
  });
  it('addSeries', function() {
    Chart.addSeries({
      name: 'gauge',
      renderer: "gauge",
      labels: true
    });
    assert(Chart.series[Chart.series.length - 1].name === 'gauge');
    assert(Chart.series[Chart.series.length - 1].renderer === 'gauge');
    return assert(Chart.series[Chart.series.length - 1].labels === true);
  });
  it("Chart: check height function", function() {
    Chart = Chart.height(450);
    Chart.update();
    return assert(Chart.height() === 450 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check setSize function", function() {
    Chart.setSize({
      width: 720,
      height: 420
    });
    Chart.update();
    assert(Chart.width() === 720 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
    return assert(Chart.height() === 420 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check width function", function() {
    Chart = Chart.width(700);
    Chart.update();
    return assert(Chart.width() === 700 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
  });
  it('Tactile.Chart().render is function', function() {
    return assert(typeof Chart.render === 'function');
  });
  it('Tactile.Chart().initSeriesStackData is function', function() {
    return assert(typeof Chart.initSeriesStackData === 'function');
  });
  return it('Tactile.Chart().element is function', function() {
    return assert(typeof Chart.element === 'function');
  });
});

describe('Line series', function() {
  var Chart;
  Chart = new Tactile.Chart();
  it("Chart: check data function", function() {
    var data;
    data = [
      {
        x: 0,
        y: 10,
        z: 0
      }, {
        x: 1,
        y: 170,
        z: 200
      }, {
        x: 2,
        y: 280,
        z: 100
      }, {
        x: 3,
        y: 205,
        z: 240
      }, {
        x: 4,
        y: 280,
        z: 100
      }, {
        x: 5,
        y: 205,
        z: 240
      }, {
        x: 6,
        y: 280,
        z: 100
      }, {
        x: 7,
        y: 205,
        z: 240
      }, {
        x: 8,
        y: 332,
        z: 490
      }
    ];
    Chart.data(data);
    return assert(Chart._data === data);
  });
  it("Chart: check axes function", function() {
    var frameVal;
    frameVal = [0, 8];
    Chart.axes({
      x: {
        dimension: "time",
        frame: frameVal
      }
    });
    return assert(Chart._axes.x.frame === frameVal);
  });
  it("Chart: check element function", function() {
    Chart.element($("#example_view")[0]);
    return assert(Chart._element === ($("#example_view")[0]));
  });
  it('addSeries', function() {
    Chart.addSeries({
      name: "enemies",
      renderer: "line",
      color: "#c05020",
      sigfigs: 1,
      draggable: true,
      afterDrag: function(d, y, i, draggedSeries, graph) {
        return graph.data()[i].z = y;
      },
      tooltip: function(d) {
        return d.y + " enemies";
      },
      dataTransform: function(d) {
        return {
          x: d.x,
          y: d.y
        };
      }
    });
    assert(Chart.series[Chart.series.length - 1].name === 'enemies');
    assert(Chart.series[Chart.series.length - 1].renderer === 'line');
    assert(Chart.series[Chart.series.length - 1].color === '#c05020');
    assert(typeof Chart.series[Chart.series.length - 1].tooltip === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].dataTransform === 'function');
    assert(typeof Chart.series[Chart.series.length - 1].afterDrag === 'function');
    assert(Chart.series[Chart.series.length - 1].sigfigs === 1);
    return assert(Chart.series[Chart.series.length - 1].draggable === true);
  });
  it("Chart: check for all series don't disabled", function() {
    var res;
    res = Chart._allSeriesDisabled();
    return assert(res === false);
  });
  it("Chart: check for disable all series", function() {
    var res;
    _.each(Chart.series, function(s) {
      return s.disable();
    });
    res = Chart._allSeriesDisabled();
    return assert(res === true);
  });
  it("Chart: check setSize function", function() {
    Chart.setSize({
      width: 720,
      height: 420
    });
    Chart.update();
    assert(Chart.width() === 720 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
    return assert(Chart.height() === 420 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check height function", function() {
    Chart = Chart.height(450);
    Chart.update();
    return assert(Chart.height() === 450 - Chart.margin.top - Chart.margin.bottom - Chart.padding.top - Chart.padding.bottom);
  });
  it("Chart: check width function", function() {
    Chart = Chart.width(700);
    Chart.update();
    return assert(Chart.width() === 700 - Chart.margin.left - Chart.margin.right - Chart.padding.left - Chart.padding.right);
  });
  it('Tactile.Chart().render is function', function() {
    return assert(typeof Chart.render === 'function');
  });
  it('Tactile.Chart().initSeriesStackData is function', function() {
    return assert(typeof Chart.initSeriesStackData === 'function');
  });
  return it('Tactile.Chart().element is function', function() {
    return assert(typeof Chart.element === 'function');
  });
});
